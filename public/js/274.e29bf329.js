"use strict";(self["webpackChunkrecetario_front"]=self["webpackChunkrecetario_front"]||[]).push([[274],{3274:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var a=r(6768);const i=["onClick"],o=["onClick"];function c(e,t,r,c,s,l){const n=(0,a.g2)("RouterLink"),d=(0,a.g2)("v-btn"),h=(0,a.g2)("v-col"),p=(0,a.g2)("v-row"),u=(0,a.g2)("v-data-table"),k=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(p,{class:"mb-8"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(d,{color:"primary",class:"router-link-light-text"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{to:"/recipe-creator"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("Crear nueva receta")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,a.bF)(p,{class:"mb-8"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{cols:"12"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.Lk)("h4",null,"Listado de recetas",-1)]))),_:1})])),_:1}),(0,a.bF)(p,{class:"mb-8"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{headers:e.headers,items:e.recipes,density:"comfortable",hover:"",color:"primary"},{["item.actions"]:(0,a.k6)((({item:e})=>[(0,a.Lk)("a",{onClick:t=>l.editRecipe(e.id)},"Editar",8,i),t[2]||(t[2]=(0,a.Lk)("span",null," | ",-1)),(0,a.Lk)("a",{onClick:t=>l.deleteRecipe(e.id)},"Eliminar",8,o)])),_:2},1032,["headers","items"])])),_:1})])),_:1})])),_:1})}r(4114);var s=r(4373),l={data:()=>({search:"",headers:[{title:"Receta",key:"name",width:"55%"},{title:"Categor√≠a",key:"category",width:"30%"},{title:"Opciones",key:"actions",wdith:"15%",align:"end",sortable:!1}],recipes:[]}),computed:{},watch:{},methods:{async loadData(){try{const e=await s.A.get("http://localhost:8080/recipes",{headers:{"Content-Type":"application/json"},withCredentials:!1});this.recipes=e.data,console.log(this.recipes)}catch(e){this.error="Error fetching recipes",console.error(e)}},editRecipe(e){this.$router.push(`/recipe-creator/${e}`)},async deleteRecipe(e){try{const t=await s.A.delete(`http://localhost:8080/recipes/${e}`,{headers:{"Content-Type":"application/json"},withCredentials:!1});this.recipes=t.data,console.log(this.recipes)}catch(t){this.error=`Error deleting the recipe: ${t}`,console.error(t)}}},mounted(){this.loadData()}},n=r(1241);const d=(0,n.A)(l,[["render",c]]);var h=d}}]);
//# sourceMappingURL=274.e29bf329.js.map